---
export interface Props {
  index: number;
  appId: string;
  title: string;
  appDir: string;
}

const { index, appId, title, appDir } = Astro.props;

const App = await import(`../apps/${appDir}/index.astro`).then(
  (a) => a.default
);

const Icon = import(`../apps/${appDir}/icon.svg`).then((a) => {
  console.log("ðŸš€ ~ file: AppShell.astro ~ line 17 ~ a", a);
});

console.log("ðŸš€ ~ file: AppShell.astro ~ line 18 ~ Icon ~ Icon", Icon);
---

<div id={String(index)} data-app-id={appId}>
  <div
    id={appId}
    class={`app-icon aspect-square w-10   bg-no-repeat bg-center bg-[url('/src/apps/${appDir}/icon.svg')]`}
  >
  </div>
  <span>{title}</span>

  <div
    id={`${appId}-container`}
    class="hidden border bg-fuchsia-50 absolute w-60 h-60"
  >
    <div id={`${appId}-container-bar`} class="bg-blue-50 text-center p-1">
      {title}
    </div>
    <App />
  </div>
</div>
